!function(){"use strict";!function(){var a=document.getElementsByTagName("head")[0],b='.tangible-object{cursor:default;color:#4d4d4d;background:#fff}.tangible-object ::-moz-selection{background:#d6d6d6;text-shadow:none}.tangible-object ::selection{background:#d6d6d6;text-shadow:none}.ellipsis{color:#8e908c}.quote,.string,.key{color:#718c00}.regex{color:#c82829}.boolean{color:#f5871f}.number{color:#f5871f}.null{color:#f5871f}.undefined{color:#f5871f}.tangible-object{font-family:Consolas,monaco,monospace;font-size:14px}.entry-block{display:block;padding-left:15px;margin-left:-15px;position:relative}.entry-list{display:block;padding-left:16px;border-left:1px dotted #bbb;margin-left:2px}.entry.empty>.icon-arrow,.entry.empty>.value>.entry-list,.entry.empty>.value>.ellipsis{display:none}.collapsed>.entry>.value>.entry-list{display:none}.collapsed>.entry>.value>.ellipsis{margin:0 2px}.collapsed>.entry>.value>.ellipsis:after{content:"…"}.entry-block:last-child>.comma{display:none}.icon-arrow{width:20px;height:18px;position:absolute;left:-2px;top:-1px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD1JREFUeNpiYGBgOADE%2F3Hgw0DM4IRHgSsDFOzFInmMAQnY49ONzZRjDFiADT7dMLALiE8y4AGW6LoBAgwAuIkf%2F%2FB7O9sAAAAASUVORK5CYII%3D);background-repeat:no-repeat;background-position:center center;display:block;opacity:.15;cursor:pointer}.collapsed>.entry>.icon-arrow{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg);width:18px;height:20px;left:0;top:-3px}',c=document.createElement("style"),d=document.createTextNode("");c.type="text/css",d.nodeValue=b,c.appendChild(d),a.appendChild(c)}();var a={slice:function(a){return Array.prototype.slice.call(a)},capitalize:function(a){return a.substr(0,1).toUpperCase()+a.substr(1,a.length-1)},partial:function(b,c){return function(){var d=a.slice(arguments,2);return d.unshift(c),b.apply(this,d)}}},b={fragment:function(){return document.createDocumentFragment()},template:function(a){return i[a].cloneNode(!0)},createEl:function(a,c,d){a=a||"span";var e=h[a].cloneNode(!1);return c&&(e.className=c),e=b.setText(e,d)},setText:function(a,c){if(!c||""===c)return a;var d=h.text.cloneNode(!1);return d.nodeValue=c,b.append(a,d)},append:function(){var a,c,d=Array.prototype.shift.call(arguments);for(a=0;a<arguments.length;a++)c=arguments[a],c&&(c.constructor==Array?b.append.apply(this,[d].concat(c)):d.appendChild(c));return d},replace:function(a,b){a.parentNode.replaceChild(b,a)},remove:function(a){a.parentNode.removeChild(a)},childByClass:function(a,b){var c=a.children,d=0;for(d;d<c.length;d++)if(c[d].className===b)return c[d]},wrap:function(a,c,d){return b.append(a,b.template(d),c,b.template(d))}},c={type:function(a){return"undefined"==typeof a?"undefined":null===a?"null":"string"==typeof a?"string":"number"==typeof a?"number":"boolean"==typeof a?"boolean":a instanceof RegExp?"regex":a instanceof Array?"array":"object"},isNumeric:function(a){return!isNaN(a)},isEmpty:function(a){if(c.isList(a)){var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}},isList:function(a){var b=c.type(a);return"object"===b||"array"===b}},d={render:function(a,c){var e=d.buildObjEl(a,void 0,void 0,c);return b.append(b.createEl("div","tangible-object"),e)},buildObjEl:function(a,e,f,g){f="/"!==f?f+"/":f,f=void 0!==e?f+e:"",f=f||"/";var h=c.type(a),i=b.createEl("span","entry-block"),j=d.buildWrapper(a),k=d.buildArrow(a,e,h),l=d.buildKey(a,e,h),m=d.buildValue(a,e,h,f,g),n={entryNode:j,arrowNode:k,valueNode:m,keyNode:l,type:h,value:a};g[f]=n,j=b.append(j,k,l,m);var o=b.template("comma");return i=b.append(i,j,o)},buildWrapper:function(a){var d=c.isEmpty(a)?"entry empty":"entry",e=b.createEl("span",d);return e},buildArrow:function(a){return c.isList(a)?b.template("arrow"):void 0},buildKey:function(a,d){if(void 0!==d&&!c.isNumeric(d)){var e=b.createEl("span","key"),f=b.template("key");return f=b.setText(f,d),e=b.wrap(e,f,"quote"),e=b.append(e,b.template("sep"))}},buildValue:function(e,f,g,h,i){var j=b.createEl("span","value");g=g||c.type(e);var k,l="build"+a.capitalize(g)+"Dom";return"function"==typeof d[l]&&(k=d[l](e,f,g,h,i)),j=b.append(j,k)},buildStringDom:function(a){var c=b.fragment(),d=JSON.stringify(a);d=d.substring(1,d.length-1);var e=b.template("string");return e=b.setText(e,d),c=b.wrap(c,e,"quote")},buildNullDom:function(){return d._buildFlatValue.apply(this,arguments)},buildUndefinedDom:function(){return d._buildFlatValue.apply(this,arguments)},buildNumberDom:function(){return d._buildFlatValue.apply(this,arguments)},buildRegexDom:function(){return d._buildFlatValue.apply(this,arguments)},buildBooleanDom:function(){return d._buildFlatValue.apply(this,arguments)},_buildFlatValue:function(a,c,d){var e=String(a);return null===a?e="null":void 0===a&&(e="undefined"),b.createEl("span",d,e)},buildArrayDom:function(a,e,f,g,h){var i=b.fragment();i=b.append(i,b.template("bracketOpen"),b.template("ellipsis"));var j=b.template("entryList");if(!c.isEmpty(a)){var k,l;for(k=0;k<a.length;k++)l=d.buildObjEl(a[k],k,g,h),j=b.append(j,l)}return i=b.append(i,j,b.template("bracketClose"))},buildObjectDom:function(a,e,f,g,h){var i=b.fragment();i=b.append(i,b.template("braceOpen"),b.template("ellipsis"));var j=b.template("entryList");if(!c.isEmpty(a)){var k,l;for(k in a)a.hasOwnProperty(k)&&(l=d.buildObjEl(a[k],k,g,h),j=b.append(j,l))}return i=b.append(i,j,b.template("braceClose"))}},e={updateFromDiff:function(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c],e[d.op](d.path,d.value,a)},replace:function(a,c,f){e.removeChildren(a,f);var g=e.keyFromPath(a),h=f[a].entryNode.parentNode,i=e.parentPath(a),j=d.buildObjEl(c,g,i,f);b.replace(h,j)},add:function(a,f,g){var h=e.parentPath(a),i=g[h],j=i.valueNode,k=b.childByClass(j,"entry-list"),l=e.keyFromPath(a),m=c.isNumeric(l);l=m?!1:l;var n=d.buildObjEl(f,l,h,g);k=b.append(k,n),i.entryNode.className="entry"},remove:function(a,c,d){e.removeChildren(a,d);var f=d[a].entryNode.parentNode;b.remove(f),delete d[a],e.checkParents(a,d)},parentPath:function(a){var b=a.split("/");return b.pop(),b.join("/")||"/"},keyFromPath:function(a){var b=a.split("/");return b.pop()},checkParents:function(a,b){var c=e.parentPath(a),d=e.matchPath(c,b);d.length||e.convertToEmpty(c,b)},convertToEmpty:function(a,b){var c=b[a];c.entryNode.className+=" empty"},matchPath:function(a,b){a="/"===a?"/":a+"/";var c,d=a.length,e=[];for(c in b)b.hasOwnProperty(c)&&c.substr(0,d)===a&&e.push(b[c]);return e},removeChildren:function(a,b){a="/"===a?"/":a+"/";var c,d=a.length+1;for(c in b)b.hasOwnProperty(c)&&c.substr(0,d)===a&&delete b[c]}},f=-1!==navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",g={clickHandler:function(b){if(1===b.which){var c=b.target;if("icon-arrow"===c.className){b.preventDefault();var d=c.parentNode,e=b[f]?a.slice(d.parentNode.parentNode.children):d.parentNode,h=d.parentNode.classList.contains("collapsed")?!0:!1;return void g.toggle(e,h)}}},toggle:function(a,b){var c=[];a instanceof Array?c=a:c.push(a),b&&c.length?g.expand(c):g.collapse(c)},collapse:function(a){var b=a.length-1;for(b;b>=0;b--)a[b].classList.add("collapsed")},expand:function(a){var b=a.length-1;for(b;b>=0;b--)a[b].classList.remove("collapsed")}},h={text:document.createTextNode(""),span:document.createElement("span"),div:document.createElement("div"),pre:document.createElement("pre"),a:document.createElement("a")},i={arrow:b.createEl("span","icon-arrow"),number:b.createEl("span","number"),string:b.createEl("span","string"),key:b.createEl("span","key"),empty:b.createEl("span","null"),innerBlock:b.createEl("span","inner-block"),entryList:b.createEl("span","entry-list"),quote:b.createEl("span","quote",'"'),bracketOpen:b.createEl("span","bracket bracket-open","["),bracketClose:b.createEl("span","bracket bracket-close","]"),braceOpen:b.createEl("span","brace brace-open","{"),braceClose:b.createEl("span","brace brace-close","}"),ellipsis:b.createEl("span","ellipsis"),comma:b.createEl("span","comma",","),sep:b.createEl("span","sep",": ")},j=function(a){this._obj=a,this._els=[],this._observers=[]},k=j.prototype;k.render=function(b){var c={},f=a.partial(e.updateFromDiff,c),g=jsonpatch.observe(this._obj,f),h=d.render(this._obj,c);b.appendChild(h),this._els.push(b),this._observers.push(g)},k.destroy=function(){this._emptyEls(),this._removeObservers(),delete this._obj},k._removeObservers=function(){var a=0;for(a;a<this._observers.length;a++)jsonpatch.unobserve(this._obj,this._observers[a]);this._observers=[]},k._emptyEls=function(){var a=0;for(a;a<this._els.length;a++)this._els[a].innerHTML="";this._els=[]},j.stopListening=function(){m.destroy()};var l=function(){document.addEventListener("click",g.clickHandler,!1)};l.prototype.destroy=function(){document.removeEventListener("click",g.clickHandler,!1)};var m=new l;window.Tangible=j}(jsonpatch);var jsonpatch;!function(a){function b(a){return-1===a.indexOf("/")&&-1===a.indexOf("~")?a:a.replace(/~/g,"~0").replace(/\//g,"~1")}function c(a,d){var e;for(var f in a)if(a.hasOwnProperty(f)){if(a[f]===d)return b(f)+"/";if("object"==typeof a[f]&&(e=c(a[f],d),""!=e))return b(f)+"/"+e}return""}function d(a,b){if(a===b)return"/";var d=c(a,b);if(""===d)throw new Error("Object not found in root");return"/"+d}function e(a){for(var b=0,c=s.length;c>b;b++)if(s[b].obj===a)return s[b]}function f(a,b){for(var c=0,d=a.observers.length;d>c;c++)if(a.observers[c].callback===b)return a.observers[c].observer}function g(a,b){for(var c=0,d=a.observers.length;d>c;c++)if(a.observers[c].observer===b)return void a.observers.splice(c,1)}function h(a,b){l(b),Object.observe?k(b,a):clearTimeout(b.next);var c=e(a);g(c,b)}function i(a,b){var c,g=[],h=a,i=e(a);if(i?c=f(i,b):(i=new t(a),s.push(i)),c)return c;if(Object.observe)c=function(e){k(c,a),j(c,a);for(var f=0,i=e.length;i>f;){if(("length"!==e[f].name||!w(e[f].object))&&"__Jasmine_been_here_before__"!==e[f].name){var l=e[f].type;switch(l){case"new":l="add";break;case"deleted":l="delete";break;case"updated":l="update"}r[l].call(e[f],g,d(h,e[f].object))}f++}g&&b&&b(g),c.patches=g,g=[]};else if(c={},i.value=JSON.parse(JSON.stringify(a)),b){c.callback=b,c.next=null;var m=this.intervals||[100,1e3,1e4,6e4];if(void 0===m.push)throw new Error("jsonpatch.intervals must be an array");var n=0,o=function(){l(c)},p=function(){clearTimeout(c.next),c.next=setTimeout(function(){o(),n=0,c.next=setTimeout(q,m[n++])},0)},q=function(){o(),n==m.length&&(n=m.length-1),c.next=setTimeout(q,m[n++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",p),window.addEventListener("mouseup",p),window.addEventListener("keydown",p)):(window.attachEvent("onmousedown",p),window.attachEvent("onmouseup",p),window.attachEvent("onkeydown",p))),c.next=setTimeout(q,m[n++])}return c.patches=g,c.object=a,i.observers.push(new u(b,c)),j(c,a)}function j(a,b){if(Object.observe){Object.observe(b,a);for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];d&&"object"==typeof d&&j(a,d)}}return a}function k(a,b){if(Object.observe){Object.unobserve(b,a);for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];d&&"object"==typeof d&&k(a,d)}}return a}function l(a){if(Object.observe)Object.deliverChangeRecords(a);else{for(var b,c=0,d=s.length;d>c;c++)if(s[c].obj===a.object){b=s[c];break}m(b.value,a.object,a.patches,"")}var e=a.patches;return e.length>0&&(a.patches=[],a.callback&&a.callback(e)),e}function m(a,c,d,e){for(var f=v(c),g=v(a),h=!1,i=!1,j=g.length-1;j>=0;j--){var k=g[j],l=a[k];if(c.hasOwnProperty(k)){var n=c[k];l instanceof Object?m(l,n,d,e+"/"+b(k)):l!=n&&(h=!0,d.push({op:"replace",path:e+"/"+b(k),value:n}),a[k]=n)}else d.push({op:"remove",path:e+"/"+b(k)}),delete a[k],i=!0}if(i||f.length!=g.length)for(var j=0;j<f.length;j++){var k=f[j];a.hasOwnProperty(k)||(d.push({op:"add",path:e+"/"+b(k),value:c[k]}),a[k]=JSON.parse(JSON.stringify(c[k])))}}function n(a,b){for(var c,d=!1,e=0,f=b.length;f>e;){c=b[e];for(var g=c.path.split("/"),h=a,i=1,j=g.length;;)if(w(h)){var k=parseInt(g[i],10);if(i++,i>=j){d=q[c.op].call(c,h,k,a);break}h=h[k]}else{var l=g[i];if(-1!=l.indexOf("~")&&(l=l.replace(/~1/g,"/").replace(/~0/g,"~")),i++,i>=j){d=p[c.op].call(c,h,l,a);break}h=h[l]}e++}return d}function o(a,b){var c=[];return m(a,b,c,""),c}var p={add:function(a,b){return a[b]=this.value,!0},remove:function(a,b){return delete a[b],!0},replace:function(a,b){return a[b]=this.value,!0},move:function(a,b,c){var d={op:"_get",path:this.from};return n(c,[d]),n(c,[{op:"remove",path:this.from}]),n(c,[{op:"add",path:this.path,value:d.value}]),!0},copy:function(a,b,c){var d={op:"_get",path:this.from};return n(c,[d]),n(c,[{op:"add",path:this.path,value:d.value}]),!0},test:function(a,b){return JSON.stringify(a[b])===JSON.stringify(this.value)},_get:function(a,b){this.value=a[b]}},q={add:function(a,b){return a.splice(b,0,this.value),!0},remove:function(a,b){return a.splice(b,1),!0},replace:function(a,b){return a[b]=this.value,!0},move:p.move,copy:p.copy,test:p.test,_get:p._get},r={add:function(a,c){var d={op:"add",path:c+b(this.name),value:this.object[this.name]};a.push(d)},"delete":function(a,c){var d={op:"remove",path:c+b(this.name)};a.push(d)},update:function(a,c){var d={op:"replace",path:c+b(this.name),value:this.object[this.name]};a.push(d)}},s=[];a.intervals;var t=function(){function a(a){this.observers=[],this.obj=a}return a}(),u=function(){function a(a,b){this.callback=a,this.observer=b}return a}();a.unobserve=h,a.observe=i,a.generate=l;var v;v=Object.keys?Object.keys:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};var w;w=Array.isArray?Array.isArray:function(a){return a.push&&"number"==typeof a.length},a.apply=n,a.compare=o}(jsonpatch||(jsonpatch={})),"undefined"!=typeof exports&&(exports.apply=jsonpatch.apply,exports.observe=jsonpatch.observe,exports.unobserve=jsonpatch.unobserve,exports.generate=jsonpatch.generate);